{"version":3,"sources":["CityValidation.js","script.php"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["<script type='text/javascript'>\n    // constuctor\n    function CityValidation() {\t\t\t\t\t\t\t\t\n        // city elements\n        this.cityOne = document.getElementById('cityOne');  \n        this.cityTwo = document.getElementById('cityTwo'); \n        this.cityThree = document.getElementById('cityThree'); \n\n        // city values\n        this.cityOneValue = \"\";\n        this.cityTwoValue = \"\";\n        this.cityThreeValue = \"\"; \n\n        // city detail elements\n        this.detailOne = document.getElementById('cityOneDetail'); \n        this.detailTwo = document.getElementById('cityTwoDetail'); \n        this.detailThree = document.getElementById('cityThreeDetail'); \n\n        // functions for city validation\n        this.updateCities = updateCities; \n        this.validateCities = validateCities; \n        this.validate = validate;\n    }\n\n\n    // update city element values\n    function updateCities() {\n        this.cityOneValue = (this.cityOne.value).toLowerCase();\n        this.cityTwoValue = (this.cityTwo.value).toLowerCase();\n        this.cityThreeValue = (this.cityThree.value).toLowerCase(); \n    }\n\n\n    // validate all cities\n    function validateCities() {\n        this.updateCities(); \n        this.validate(this.cityOne, this.cityOneValue, this.cityTwoValue, this.cityThreeValue, this.detailOne, 1); \n        this.validate(this.cityTwo, this.cityTwoValue, this.cityOneValue, this.cityThreeValue, this.detailTwo, 2); \n        this.validate(this.cityThree, this.cityThreeValue, this.cityOneValue, this.cityTwoValue, this.detailThree, 3); \n    }\n\n    //validate an individual city\n    function validate(city, cityValue, checkOne, checkTwo, update, formNumber) {\n        var result = regex.test(cityValue);\n\n        if ((cityValue == checkOne || cityValue == checkTwo || result == false) && cityValue != \"\") {\n            city.style.borderColor = 'lightpink';\n            update.innerHTML='City not found or repeated';\n        }\n        else if (result == true) {\n            city.style.borderColor = 'darkseagreen';\n            update.innerHTML='City found ✔';\n        }\n        else {\n            city.style.borderColor = 'lightgrey'; \n            if (formNumber == 1)\t\n                update.innerHTML='Enter a city you like (required)';\n            else if (formNumber == 2)\n                update.innerHTML='Enter a second city you like (optional)';\n            else if (formNumber == 3)\n                update.innerHTML='Enter a third city you like (optional)';\n        }\n    }\n</script>","<script type='text/javascript'>\n\t//variables from php file\n\tvar dropDown = <?=$jsMap?>;\n\tvar pattern = '<?=$pattern?>'; \n\tvar regex = new RegExp(pattern, 'i');\n\tvar cityEntered = '<?=$cityOne?>' \n\tvar chosenCity = '<?=$chosenCity?>';\n\tvar imagePath = 'images/' + chosenCity + '.png'; \n\tvar imagePath = imagePath.split(' ').join('_');\n\tvar score = <?=$score?>;\n\tvar error = false; \n\t<?php if($errors):?> \n\t\tvar error = true; \n\t<?php endif; ?>\n\n\t$(document).ready(function() {\n  \n\t\t\n\t\t// bootstrap function\n\t\t$('#info').popover();   \n\t\t\n\t\t\n\t\t// generate header/tag if no error and at least one city entered\n\t\tif (error == true) {\n\t\t\t$('h1').hide().html('City Picker').fadeIn(3500);\n\t\t\t$('#tagline').html('...Flight delayed...');\n\t\t}\n\t\telse if(cityEntered != ''){\n\t\t\t$('h1').hide().html(chosenCity).fadeIn(3500);\n\t\t\t$('#tagline').html('Score: ' + score + '%');\n\t\t}\n\n\n\t\t// function to load default waterfall image\n\t\tfunction loadDefaultImage() {\n\t\t\t$('.jumbotron').css('background', 'url(images/Default.png) no-repeat 50% 50% fixed').css('background-size','cover').fadeTo(2000, 1);\n\t\t\t$('footer').css('background', 'url(images/Default.png) no-repeat 50% 50% fixed').css('background-size','cover').fadeTo(2000, 1);\n\t\t}; \n\n\n\t\tif (error == false) {\n\t\t\t// load city image if available for header and footer\n\t\t\t$.get(imagePath).done(function() {\n\t\t\t\t$('.jumbotron').css('background', function(){\n\t\t\t\t\tvar background = 'url(' + imagePath + ')' + ' no-repeat 50% 50% fixed'; \t\n\t\t\t\t\treturn background; \n\t\t\t\t}).css('background-size','cover').fadeTo(2000, 1);\n\t\t\t\t$('footer').css('background', function(){\n\t\t\t\t\tvar background = 'url(' + imagePath + ')' + ' no-repeat 50% 50% fixed'; \n\t\t\t\t\treturn background; \n\t\t\t\t}).css('background-size','cover').fadeTo(2000, 1);\n\n\n\t\t\t// if not available use a default image\n\t\t\t}).fail(function(){\n\t\t\t\tloadDefaultImage(); \n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\t// load default image on error\n\t\t\tloadDefaultImage(); \n\t\t}\n\n\n\t\t// validate forms on page load \n\t\tvar formValidation = new CityValidation(); \n\t\tformValidation.validateCities(); \n\n\n\t\t// validate forms on keyup/change\n\t\t$('#cityOne, #cityTwo, #cityThree').on('change keyup input', function() {\n\t\t\tformValidation.validateCities(); \t\n\t\t}); \n\n\n\t\t// generate placeholders for text inputs (if needed)\n\t\tif(!$('#cityOne').val()){\n\t\t\t$('#magicOne').html('City One');\n\t\t}\n\t\tif(!$('#cityTwo').val()){\n\t\t\t$('#magicTwo').html('City Two');\n\t\t}\n\t\tif(!$('#cityThree').val()){\n\t\t\t$('#magicThree').html('City Three');\n\t\t}\n\n\n\t\t// adjust inputs/labels on focus\n\t\t$('#cityOne').on('focus', function() {\n\t\t\t$(this).val('');\n\t\t\t$('#magicOne').css({'font-size':'10px','padding-top':'0em', 'margin-top':'-1.8em'}).html('City One');\n\t\t\tformValidation.validateCities();\n\n\t\t});\n\t\t$('#cityTwo').on('focus', function() {\n\t\t\t$(this).val('');\n\t\t\t$('#magicTwo').css({'font-size':'10px','padding-top':'0em', 'margin-top':'-1.8em'}).html('City Two');\n\t\t\tformValidation.validateCities();\n\n\t\t});\n\t\t$('#cityThree').on('focus', function() {\n\t\t\t$(this).val('');\n\t\t\t$('#magicThree').css({'font-size':'10px','padding-top':'0em', 'margin-top':'-1.8em'}).html('City Three');\n\t\t\tformValidation.validateCities();\n\t\t});\n\n\n\t\t// guide user down upon clicking first input\n\t\t$('#cityOne').on('click', function() {\n\t\t\t$('html, body').animate({\n\t\t\t\tscrollTop: $('#cityOne').offset().top - 100\n\t\t\t}, 2000);\n\t\t});\n\n\n\t\t// start mini intro after three seconds\n\t\t// plays on first load, not after submitting form\n\t\tsetTimeout(function() {   \n\t\t\t$('.tutorial').hide().html(\"...Find a city you'll love...\").fadeIn(3000).fadeOut(3000, function() {\n\t\t\t\t$('.tutorial').html('...Enter a few places you already like...').fadeIn(3000).fadeOut(3000, function() {\n\t\t\t\t\t$('.tutorial').html(\"...And we'll crunch the numbers to find a match...\").fadeIn(3000, function(){\n\t\t\t\t\t\t$('.tutorial').fadeTo('slow', 0); \n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t}, 3000);\n\n\n\t\t// jQuery UI autocomplete\n\t\t$('#cityOne, #cityTwo, #cityThree').autocomplete({\n\t\t\tsource:dropDown\n\t\t});\n\n\n\t\t// update temperature value on input (permanent)\n\t\t$('#temperature').on('input', function() {\n\t\t\tval = $(this).val(); \n\t\t\t$('#currentTemp').html(Math.round(val)+'° F'); \n\t\t});\n\n\n\t\t// update temperature on hover (not permanent)\n\t\t$('#temperature').on('mouseover mousemove', function(e) {\n\t\t\tvalue = (e.offsetX/e.target.clientWidth)*40 + 40; \n\t\t\t$('#magicTemp').fadeIn('slow');\n\t\t\t$('#magicTemp').html(Math.round(value)+'° F'); \n\t\t});\n\t\t$('#temperature').on('mouseleave', function() {\n\t\t\t$('#magicTemp').fadeOut('slow')\n\t\t});\n\n\n\t\t// zoom in footer image on click (in, then out) \n\t\t$('footer').on('click', function() {\n\t\t\t$('#submitButton').fadeTo(500, 0);\n\t\t\t$(this).addClass('zoomer');\n\t\t\tsetTimeout(function() {   \n\t\t\t\t$('footer').addClass('antiZoomer');\n\t\t\t\t$('#submitButton').fadeTo(500, 1);\n\t\t\t}, 4000);\n\t\t\t$('footer').removeClass('antiZoomer');\n\t\t});\n\n\t}); \n</script>"]}